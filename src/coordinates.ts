/**
 * The rotation starting from 2025-12-19T03:00:00Z
 */
const COORDINATES = [
	'3-1 / 8-3 / 12-16 / 13-17 / 18-16 / 21-13',
	'1-2 / 6-9 / 12-16 / 14-19 / 18-6 / 21-4',
	'3-17 / 7-3 / 11-16 / 16-19 / 20-13 / 24-20',
	'3-9 / 6-11 / 9-1 / 15-17 / 18-5 / 24-3',
	'3-10 / 7-11 / 12-14 / 16-18 / 18-19 / 22-17',
	'2-8 / 6-4 / 10-16 / 16-7 / 19-18 / 24-6',
	'3-20 / 7-10 / 11-15 / 15-18 / 19-6 / 23-10',
	'3-12 / 6-2 / 10-11 / 13-4 / 19-13 / 24-11',
	'2-14 / 7-19 / 11-16 / 16-15 / 20-9 / 21-20',
	'4-3 / 7-19 / 9-14 / 14-2 / 18-7 / 22-15',
	'2-1 / 7-19 / 12-2 / 14-6 / 18-11 / 24-4',
	'4-11 / 5-19 / 11-10 / 16-15 / 17-11 / 22-7',
	'3-20 / 6-19 / 10-12 / 14-6 / 19-16 / 24-6',
	'3-11 / 8-8 / 11-15 / 15-3 / 18-10 / 24-3',
	'2-7 / 6-3 / 10-15 / 14-2 / 17-18 / 24-3',
	'3-8 / 5-16 / 11-10 / 16-5 / 19-18 / 24-19',
	'2-9 / 7-12 / 11-11 / 15-3 / 19-14 / 21-17',
	'2-11 / 7-11 / 11-6 / 13-9 / 20-3 / 24-8',
	'1-6 / 6-11 / 9-8 / 14-15 / 18-10 / 21-10',
	'2-6 / 6-4 / 11-10 / 14-1 / 17-7 / 22-18',
	'4-12 / 7-7 / 10-7 / 14-10 / 20-11 / 23-2',
	'2-19 / 6-15 / 12-18 / 15-17 / 18-1 / 22-18',
	'3-4 / 7-6 / 10-3 / 13-8 / 19-4 / 23-1',
	'3-1 / 7-10 / 9-11 / 14-17 / 20-20 / 21-16',
	'3-15 / 8-4 / 10-10 / 16-20 / 17-13 / 22-16',
	'2-14 / 6-12 / 11-16 / 13-12 / 19-2 / 24-2',
	'3-8 / 5-9 / 12-13 / 15-10 / 20-19 / 23-14',
	'2-6 / 5-15 / 11-5 / 14-3 / 19-16 / 21-14',
	'2-15 / 8-17 / 11-9 / 14-3 / 17-3 / 23-19',
	'4-18 / 6-14 / 10-4 / 15-9 / 18-3 / 21-4',
	'2-17 / 7-4 / 11-1 / 13-3 / 19-16 / 21-14',
	'3-12 / 7-3 / 12-15 / 15-6 / 19-1 / 24-14',
	'4-16 / 7-17 / 10-12 / 15-17 / 18-20 / 21-12',
	'1-20 / 6-4 / 11-16 / 13-5 / 18-20 / 22-19',
	'3-17 / 8-17 / 9-17 / 15-2 / 18-2 / 22-16',
	'3-4 / 7-12 / 11-8 / 14-16 / 20-4 / 22-6',
	'3-3 / 7-3 / 11-2 / 16-15 / 17-4 / 24-11',
	'3-3 / 5-7 / 10-17 / 14-2 / 20-2 / 24-15',
	'4-6 / 7-14 / 10-20 / 15-6 / 18-3 / 21-16',
	'2-16 / 8-15 / 10-19 / 16-10 / 18-12 / 24-10',
	'2-18 / 5-18 / 12-18 / 15-6 / 18-9 / 21-11',
	'2-3 / 6-5 / 9-5 / 16-6 / 19-10 / 22-14',
	'1-18 / 6-12 / 11-20 / 13-12 / 19-19 / 23-5',
	'4-5 / 5-8 / 11-18 / 15-19 / 19-6 / 22-14',
	'2-5 / 6-14 / 10-17 / 15-13 / 18-18 / 23-20',
	'1-11 / 7-3 / 12-3 / 14-2 / 18-5 / 23-8',
	'2-1 / 8-1 / 12-7 / 15-11 / 20-7 / 23-13',
	'3-11 / 5-4 / 11-13 / 14-20 / 20-4 / 23-1',
	'3-19 / 7-12 / 9-6 / 16-7 / 19-16 / 24-4',
	'2-13 / 8-6 / 10-10 / 16-7 / 19-19 / 23-15',
	'4-4 / 7-9 / 10-13 / 15-6 / 18-18 / 23-3',
	'4-5 / 5-18 / 10-9 / 15-12 / 19-5 / 24-15',
	'3-9 / 6-6 / 10-17 / 15-8 / 19-5 / 24-7',
	'3-6 / 8-16 /  12-6 / 15-15 / 19-16 / 22-17',
	'3-13 / 6-6 / 11-2 / 15-5 / 19-15 / 24-16',
	'3-13 / 6-16 / 10-9 / 14-8 / 19-3 / 22-1',
	'3-15 / 6-18 / 11-17 / 15-4 / 20-9 / 22-4',
	'4-18 / 7-10 / 11-17 / 13-12 / 17-9 / 21-2',
	'2-19 / 7-6 / 10-1 / 14-9 / 19-8 / 23-7',
	'4-7 / 6-3 / 10-16 / 16-9 / 18-6 / 21-5',
	'2-18 / 8-11 / 12-10 / 13-19 / 19-6 / 22-12',
	'3-7 / 5-8 / 12-11 / 15-2 / 18-9 / 22-3',
	'3-15 / 6-14 / 9-10 / 15-13 / 19-14 / 21-5',
	'1-15 / 5-19 / 12-20 / 14-3 / 18-12 / 21-5',
	'3-2 / 8-17 / 11-4 / 15-6 / 18-14 / 22-16',
	'3-13 / 6-10 / 11-9 / 13-2 / 20-4 / 21-7',
	'3-5 / 7-11 / 12-12 / 14-8 / 19-16 / 24-1',
	'2-7 / 6-4 / 10-8 / 15-15 / 20-5 / 24-12',
	'4-16 / 6-19 / 10-8 / 15-6 / 20-18 / 23-19',
	'2-6 / 7-15 / 10-16 / 15-18 / 18-18 / 23-1',
	'2-13 / 7-6 / 10-15 / 14-12 / 19-12 / 23-5',
	'4-5 / 5-16 / 10-2 / 16-18 / 17-17 / 23-8',
	'1-7 / 7-17 / 11-20 / 15-18 / 19-15 / 23-7',
	'4-10 / 6-6 / 10-14 / 14-20 / 18-4 / 23-11',
	'2-2 / 7-18 / 10-14 / 14-11 / 20-19 / 21-20',
	'2-2 / 8-1 / 10-19 / 14-6 / 19-6 / 22-16',
	'4-12 / 7-10 / 12 -7 / 15-9  / 17-1 / 23-10',
	'2-14 / 6-2 / 9-14 / 13-12 / 18-15 / 23-1',
	'4-18 / 7-11 / 11-13 / 13-20 / 19-18 / 21-4',
	'2-12 / 8-17 / 10-5 / 15-9 / 18-12 / 24-17',
	'2-10 / 6-9 / 11-1 / 14-1 / 20-11 / 24-13',
	'3-7 / 7-7 / 10-13 / 14-20 / 19-11 / 22-8',
	'2-5 / 6-10 / 9-4 / 16-20 / 18-6 / 21-11',
	'2-12 / 7-20 / 10-1 / 16-6 / 18-12 / 23-7',
	'1-4 / 7-16 / 9-19 / 13-11 / 18-6 / 22-18',
	'2-13 / 6-16 / 9-5 / 14-19 / 17-20 / 22-20',
	'2-10 / 8-8 / 9-7 / 15-1 / 20-6 / 24-1',
	'3-9 / 8-1 / 11-10 / 13-15 / 17-19 / 21-1',
	'1-3 / 7-13 / 9-20 / 15-13 / 19-1 / 23-15',
	'4-12 / 8-20 / 11-6 / 15-10 / 17-8 / 23-8',
	'3-4 / 7-17 / 10-2 / 14-19 / 19-9 / 24-11',
	'2-7 / 6-3 / 10-7 / 13-12 / 20-10 / 24-9',
	'4-6 / 7-1 / 9-2 / 14-19 / 18-12 / 22-1',
	'1-12 / 6-1 / 11-16 / 13-16 / 18-4 / 24-2',
	'3-19 / 8-10 / 11-1 / 13-19 / 19-20 / 24-17',
	'3-14 / 6-17 / 9-15 / 14-3 / 17-6 / 23-11',
	'2-4 /  7-4 /  12-14 / 16-12 / 17-8 / 23-6',
	'4-4 / 7-9 / 10-9 / 15-5 / 20-13 / 23-3',
	'3-19 / 7-9 / 9-7 / 13-18 / 18-18 / 23-18',
	'2-16 / 5-17 / 11-11 / 15-5 / 19-20 / 22-2',
	'3-15 / 7-1 / 10-14 / 15-10 / 20-18 / 23-17',
	'4-19 / 8-4 / 11-2 / 13-5 / 20-14 / 23-16',
	'4-9 / 7-17 / 11-7 / 14-12 / 17-3 / 23-4',
	'4-13 / 5-1 / 11-4 / 13-7 / 18-8 / 24-10',
	'2-13 / 7-11 / 10-12 / 14-2 / 19-15 / 23-2',
	'1-6 / 7-11 / 9-12 / 15-14 / 19-18 / 23-3',
	'3-13 / 7-19 / 10-1 / 14-16 / 20-19 / 21-10',
	'4-1 / 6-5 / 12-2 / 15-18 / 18-3 / 21-16',
	'3-11 / 8-5 / 11-15 / 15-18 / 20-2 / 23-10',
	'2-17 / 7-4 / 11-16 / 15-5 / 19-4 / 23-6',
	'4-11 / 6-1 / 9-5 / 15-15 / 20-15 / 23-20',
	'3-4 / 5-10 / 11-12 / 14-8 / 18-14 / 24-12',
	'4-1 / 5-1 / 10-18 / 14-10 / 18-14 / 23-20',
	'2-17 / 7-3 / 9-4 / 16-20 / 19-18 / 21-18',
	'3-3 / 7-12 / 10-20 / 15-16 / 17-7 / 21-5',
	'4-20 / 7-18 / 12-17 / 14-1 / 20-20 / 23-20',
	'2-6 / 7-17 / 10-12 / 15-12 / 19-16 / 21-17',
	'3-12 / 7-19 / 11-19 / 15-20 / 18-10 / 24-16',
	'2-14 / 6-1 / 10-14 / 15-9 / 20-14 / 21-19'
] as const;

const STEP_MILLIS = 6 * 60 * 60 * 1000;
const CYCLE = COORDINATES.length;
const ANCHOR = Date.parse('2025-12-19T03:00:00Z');
const CRON_SAFETY_OFFSET_MS = 60_000;

const getLastCoordinates = () => getCoordinatesAt(Date.now());

const getCoordinatesAt = (now: number) => {
	// adding 60 seconds here because it's going to be "predicting" where the merchant will be *one minute later*.
	const effectivelyNow = now + CRON_SAFETY_OFFSET_MS;

	const steps = Math.floor((effectivelyNow - ANCHOR) / STEP_MILLIS);
	const index = ((steps % CYCLE) + CYCLE) % CYCLE;

	const coordinates = COORDINATES[index];
	console.debug('getLastCoordinates for', effectivelyNow, 'steps', steps, 'index', index, 'coordinates', coordinates);

	return coordinates;
};


export { getLastCoordinates, getCoordinatesAt };
